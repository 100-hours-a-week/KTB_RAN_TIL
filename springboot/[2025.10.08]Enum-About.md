<aside>
🍀

마음가짐이 앞을 바라볼 수 없다면 고개는 들 수 없다.

— Ace Of Diamond —

</aside>

---

처음 Java를 진행하는 1주차 과제에서 받았던 “Enum으로 관리하라”라는 피드백, 받아보신 동료 계신가요?

"Enum"이라는 단어는 언젠가 들어봤었지만, 실제로 코드로 작성해본 적이 없었습니다. 있어도 기억하지 못하는 것을 보아하니 바이브코딩으로 지나가는 코딩이었거든 스스로 작성하지 않았을 확률이 매우 큽니다. config에 대해 설정값을 관리하는 방법을 조사하다가 Enum과도 함께 연관이 되어있는 것을 알게 되었고, Enum을 먼저 학습한 뒤, config로 이어갈까합니다.

해당 글은

**1 Enum이 무엇인지,**

**2 Enum을 왜 사용하는지**

**3 Enum의 사용 사례는 무엇인지**

**4 config와 Enum으로 관리하기**

**5 자바에서의 enum**

- 언어는 **Typescript**를 기준으로 작성되었다는 점 참고해주시길 바랍니다!

**🎁 잘못된 정보 및 배움이 있다면 정정을 언제든 환영합니다!**

---

### Enum이란?

**Enum**eration : 열거형

**매직변수**와 반대되는 개념으로, 필드에 정해진 값의 범위를 정해주는 도구 입니다.

- **매직 변수 (Magic Variable) :** 의미를 알 수 없는 값

  A와 U는 매직 변수입니다.

    ```java
    if (user.role === "A") { //A=Admin
      // 관리자
    } else if (user.role === "U") { //U=User
      // 일반 사용자
    }
    ```

  → 지양해야할 **나쁜 코딩 습관**


### **❓Enum왜 쓰나요?**

user.role === Admin해도 난 충분히 이해할 수 있는데 Enum을 사용하는 이유는 뭘까요?

1. **유지보수 및 값 변경 빠름**

   직접 문자열을 코드 안에 작성해두었을 때 수정 시 전체 파일을 뒤적 거리며 수정해야합니다.

    ```tsx
    // 나쁜 예
    if (user.role === "A") { ... }
    if (log.type === "A") { ... } // 또 있음
    if (category === "A") { ... } // 또 있음
    ```

   하지만 중앙에서 값을 관리한다면 어떨까요?

    ```tsx
    enum Role { Admin = "A", User = "B" }
    
    // 나쁜 예
    if (user.role === Role.Admin) { ... }
    if (log.type === Role.Admin) { ... }
    if (category === Role.Admin) { ... } 
    ```

   이제 “A → ADMIN”으로 바꿔야 할 때, **enum Role** 한 줄만 수정하면 전체 코드에 반영됩니다.

   > 🎉 **중앙 집중 관리로 수정이 빠르고, 코드 일관성**도 유지됩니다.
>

2. **오타(휴먼 에러) 감소**

   우리는 사람이다보니 언젠가 **절대 오타를 발생**시킬 수 있습니다.

   하지만 **enum에서 변수명을 참조한다면** 오타가 줄어들 것입니다.

    ```tsx
    if(user.role === "Admin" ) 
    //Admin이 아닌 Admim이 들어왔을 경우 오타로 인해 컴파일 에러 발생
    ```

   **최대한 에러가 발생하지 않는 방향으로 코드를 개선하는 것이 유지보수에도 좋을 것 입니다!**

   개발자는 언제나 설계와 구현하는 데에 집중할 수 있어야 되기 때문입니다-!

   (오타 때문에 에러를 잡지 못하고 하루시간을 소요하면 너무 억울할 것 같아요…🥹)

3. **타입 안전성**

   javascrpit보다 typescript가 우선 시 되는 이유에 직결되는 문제 **“타입 안전성”**

   **지정해둔 타입이 아닌 다른 타입이 들어왔을 경우** enum을 통해 타입을 제한시킬 수 있습니다.

   **💡EXAMPLE )**

   Status의 종류를 Active와 Inactive 두가지로 관리하기로 하였는데, 알 수 없는 **타입(DELETED)**이 들어올 경우

    ```tsx
    enum Status {
      Active = "ACTIVE",
      Inactive = "INACTIVE",
    }
    
    function changeStatus(status: Status) {
      console.log(status);
    }
    ```

   **타입을 설계하는 과정에서 enum으로 작성되어 관리할 경우 보다 타입 안전성을 강하게 가질 수 있다.**

    ```tsx
    
    changeStatus(Status.Active); // ✅ 정상
    changeStatus("DELETED");     // ❌ 오류 (타입 불일치)
    ```

   > 🎉enum은 **타입 설계 단계에서부터 오류 가능성을 차단**합니다.
>

### **🔹열거형 종류**

1. **숫자형 Enum**

   멤버만 작성되고 값을 설정하기 않았을 경우 자동으로 위에서부터 아래로 0부터 자동으로 설정값을 줍니다.

    ```tsx
    enum Direction {
      Up, //=0
      Down, //=1
      Left, //=2
      Right, //=3
    }
    ```

2. **문자형 Enum**

   실제로 가장 자주 쓰이는 문자형 Enum이라고 합니다.

    ```tsx
    enum UserRole {
      Admin = "ADMIN",
      User = "USER",
      Guest = "GUEST",
    }
    ```


**[공식문서]**

[Handbook - Enums](https://www.typescriptlang.org/docs/handbook/enums.html?utm_source=chatgpt.com)

### Enum을 사용해서 코드 개선하기

> 실제 진행하는 프로젝트에서 사용한 코드를 수정하는 과정입니다.
>
- **기존 코드**

```tsx
interface AvatarBlockProps {
    role : "developer" | "planner" | "designer";
    imageSrc: string;
    personalityDesc: string;
    interestDesc: string;
}
```

하지만 rule은 프로젝트 전체에서 공유해야하는 역할입니다.

→ 전체 프로젝트가 공유 받을 수 있도록 **enum에서 관리하도록 수정**

- **enum 설정**

```tsx
export enum Role{
	Developer = "developer",
	Planner = "planner",
	Designer = "designer"
}
```

- **개선된 props 타입 종류**

```tsx
interface AvatarBlockProps {
    role : Rule; //"developer" | "planner" | "designer";
    imageSrc: string;
    personalityDesc: string;
    interestDesc: string;
}
```

- **enum의 폴더 구조**

types에서 소규모 프로젝트의 경우 enum 파일에 한꺼번에 관리하다가, 점차 규모가 커질 경우 유지보수를 위해 분리합니다.

```tsx
src/
 ├─ app/
 │  ├─ types/
 │  │   ├─ enum.ts
```

---

### Enum + Config로 관리하기

리팩토링 진행 과정 : Enum과 Config를 이용하여 코드 개선하기

<img width="1157" height="454" alt="Image" src="https://github.com/user-attachments/assets/e5147636-61d1-4970-bd45-e26c85b565b8" />

각 역할(Role)의 퍼스널 컬러가 설계 단계에서 정의되어 있다면,

1. **enum 에서 역할의 타입(식별자)을 정의**하고,
2. **config 에서 해당 enum을 참조**하여

각 역할에 대응하는 **객체 속성(색상, 이름, 직무명 등)**을 매핑합니다.

```tsx
## enum
// enum.ts
export enum Role{
	Developer = "developer",
	Planner = "planner",
	Designer = "designer"
}

## config
// RoleConfig.ts
import {Role} from "@/app/types/enum";

export const RoleConfig = {
  [Role.Developer]: { color: "#747474", role: "개발자", name:"Devu"},
  [Role.Planner]: { color: "#C58B3A", role: "기획자", name:"Dune" },
  [Role.Designer]: { color: "#997EFF", role: "디자이너", name:"Soni" },
};
```

---

### JAVA에서의 Enum

기본적인 java enum의 구조

```tsx
public enum Role {
    DEVELOPER,
    PLANNER,
    DESIGNER
}
```

이지만, 추가적으로 **객체의 속성과 메서드**를 가질 수 있습니다.

```tsx
public enum Role {

    DEVELOPER("개발자", "#747474"),
    PLANNER("기획자", "#C58B3A"),
    DESIGNER("디자이너", "#997EFF");
    //Role 객체 생성 
    
    private final String koreanName;
    private final String color;

    Role(String koreanName, String color) {
        this.koreanName = koreanName;
        this.color = color;
    }

    public String getKoreanName() {
        return koreanName;
    }

    public String getColor() {
        return color;
    }
}
```

[Enum Types (The Java™ Tutorials >        
Learning the Java Language > Classes and Objects)](https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html?utm_source=chatgpt.com)

- JAVA와 TS의 차이점

**TypeScript에서는 두 파일로 나누어 관리했지만,**

```tsx
// enum.ts
export enum Role {
  Developer = "developer",
  Planner = "planner",
  Designer = "designer"
}

// personaConfig.ts
export const RoleConfig = {
  [Role.Developer]: { color: "#747474", name: "Devu" },
  [Role.Planner]: { color: "#C58B3A", name: "Dune" },
  [Role.Designer]: { color: "#997EFF", name: "Soni" },
};
```

Java에서는 한 곳에서 모두 객체 관리가 가능합니다.

```tsx
public enum Role {
    DEVELOPER("Devu", "개발자", "#747474"),
    PLANNER("Dune", "기획자", "#C58B3A"),
    DESIGNER("Soni", "디자이너", "#997EFF");

    private final String name;
    private final String role;
    private final String color;

    Role(String name, String role, String color) {
        this.name = name;
        this.role = role;
        this.color = color;
    }

    public String getName() { return name; }
    public String getRole() { return role; }
    public String getColor() { return color; }
}

```

---

### JAVA의 Enum과 DTO의 차이점

Enum과 DTO는 눈 크게 뜨고 봐도 비슷한 구조를 가지고 있습니다.

- **Enum**

    ```tsx
    // Enum
    public enum Role {
        DEVELOPER("개발자", "#747474");
    
        private final String label;
        private final String color;
    
        Role(String label, String color) {
            this.label = label;
            this.color = color;
        }
    
        public String getLabel() { return label; }
        public String getColor() { return color; }
    }
    
    ```

- **DTO**

    ```tsx
    // DTO
    public class RoleDto {
        private String label;
        private String color;
    
        public RoleDto(String label, String color) {
            this.label = label;
            this.color = color;
        }
    
        public String getLabel() { return label; }
        public String getColor() { return color; }
    }
    
    ```


하지만 두 구조는 **목적**와 **변화 가능성 측면에서** 사용 의도가 다릅니다.

우선 가장 큰 차이점은 **Enum**은 **상수로 정의 되어 불변성**을 가지고 있습니다.

하지만 **DTO**는 외부에서 전달받는 **외부 컨테이너일뿐만 아니라 상태 변경이 가능**하다는 점입니다.
<img width="1566" height="456" alt="Image" src="https://github.com/user-attachments/assets/a0c3e665-db1c-418e-8dfd-c1844020cbd8" />


> **💡Enum은 “존재 가능한 값의 목록”이고, DTO는 “데이터를 옮기기 위한 그릇”이다.**
>

---

### ➕ **Java의 enum 객체는 불변인가?**

리서치를 진행하다 어느 재밌는 토론을 발견하였습니다.

**“Java의 enum 객체가 꼭 불변(immutable)인 건 아니다”**

위에서 배운 바로는 enum은 불변이라고 학습했는데 불변이 아니라는 의문점을 누군가 던져서 시작된 토론글을 읽게 되었습니다.

하지만 enum에 대한 탐구가 길어져,

다음 글에서는 이 토론 내용을 별도로 정리했습니다.