<aside>

📌 공식 문 찾아보는 습관 들이기

</aside>

**GC :** 더 이상 사용되지 않는 객체를 자동으로 힙 메모리에서 제거하는 JVM의 관리 기능

→ 힙 메모리 : J**VM의 Runtime Data Area 의 Heap Area** 를 뜻함

→ 메서드 영역 :  바이트 코드에 작성된 클래스 정보, 메타 데이터 가 저장됨.

**❗헷갈림** : 바이트 코드 자체가 저장되는 게 아님!

**힙 메모리 구조**

**Young과 old**

- **Yong Generation**
    - 객체가 처음으로 생성되는 영역 : 여기중에서도 Eden

  → 처음 들어오니까 데이터가 빨리 사라지는 객체들이 주로 저장됨.

  → 때문에, GC가 자주 발생

    - **GC :** 더 이상 사용되지 않는 객체들을 자동으로 메모리에서 정리함.

  **→ Minor GC** : 처리대상이 작고 실행 속도도 빠른 편입니다.

  **→ STW가 있긴하지만 미세하므로 거의 느껴지지 않음.**

  → Eden : 객체가 처음 할당되는 공간. GC 발생 → 살아남을 경우 **Survivor 영역으로 이동**

  → Survivor 0, 1 : 두개가 번갈아 사용됨 → 일정 횟수 이상 생존한 객체 → **Old 로 이동**

    - **Eden :** 객체들의 “**탄생”** 장소
    - **Survivor 0, 1 : “생존자”** ping-pong 방식으로 **번갈아 가며** 객체 복사

- **Old Generation**
    - 비교적 수명이 긴 객체들이 주로 존재

      →  인증받은 객체들이기 때문에 GC 발생 빈도가 낮음.

      → 메모리 공간이 Yong 보다 넓음 → 한번 GC 발생 시 처리량이 많아서 실행시간이 오래걸림.

      **→ Major GC :** **STW - stop the world** 현상을 유발



- **stop the world - STW**
    - **GC가 실행되는 동안,** JVM이 **모든 스레드**를 잠시 **중단**시킴.

      → 해당 시간동안 어플리케이션이 멈춘것처럼 느껴지며 성능에 민감할 경우 GC 튜닝이 필요할 수 있음.

      → **중단 시키는 이유?**

      다른작업이 동시에 수행되면 **정확한 GC 작업**이 어렵기 때문에

      **→ 정확한 GC 작업이란?**

        - 스레드가 활성화되어 있을 경우 **객체 간 참조 상태가 계속 변하기 때문에, GC가 어떤 객체를 지워도 되는지** 충돌이나 오류가 발생할 가능성이 있다. 즉, 객체 참조 관계를 정확하게 파악하기 위해

![IMG_CFB0860FD50F-1 복사본 2.jpeg](attachment:ba47bbdc-022f-42fa-b611-584576e03640:IMG_CFB0860FD50F-1_복사본_2.jpeg)

- **Minor GC**
    - **Young 에서 수행되는 GC**임.

      → Young의 Eden이 꽉찼을 때 수행됨

      → Eden에서 사용되는 객체는 → Survivor로 복사됨. / 사용되지 않는 객체는 무참히 제거됨.

    - Survivor에서 MinorGC가 여러번 발생

  ❓ **Survivor에서 MinorGC가 발생하는 것과 Eden에서 GC가 발생하는 것은 다른가? 그렇다면 Eden의 GC는 뭐라고 부르는 가?**

    - Minor GC는 Survivor + Eden에서 발생하는 GC를 통칭함.

      → Minor GC 자체 발생 조건이 Eden에 객체가 가득 찼을 경우 발생하기 때문에, Eden과 동일함.


- **Major GC**
    - **Old에서 수행되는 GC**임.

      **→ Old가 꽉찼을 때 수행되거나** Full GC가 명시적으로 호출될 경우 발생


- **Full GC**
    - JVM이 Young + Old 힙 전체를 대상으로 수행하는 가비지 컬렉션임.
    - JVM 및  Young + Old + metaspace까지 포함하여 정리됨.


❓Runtime data area에 Method Area가 있고, Heap안에 PermGen이 있는데 메서드 에리아에도 클래스 메타데이터가 저장되고 permGen에도 메타데이터가 저장되나?